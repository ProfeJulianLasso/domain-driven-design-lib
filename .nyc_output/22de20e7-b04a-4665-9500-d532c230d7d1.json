{"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/event-publisher.abstract.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/event-publisher.abstract.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":30}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":31}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":55}},"6":{"start":{"line":20,"column":0},"end":{"line":20,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":32},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":19},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":24},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":24},"end":{"line":18,"column":5}},"line":16}},"branchMap":{},"s":{"0":1,"1":1,"2":3,"3":1,"4":1,"5":1,"6":1},"f":{"0":3,"1":1,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/event-publisher.abstract.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/event-publisher.abstract.ts"],"names":[],"mappings":";;;AA6CA,MAAsB,sBAAsB;IAkBb;IARrB,SAAS,CAAyB;IAQ1C,YAA6B,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IAAG,CAAC;IAQhE,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAOD,IAAI,QAAQ,CAAC,KAA4B;QACvC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAYD,IAAI,CACF,OAAY,EACZ,IAAW;QAEX,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;CAWF;AAjED,wDAiEC","sourcesContent":["import { IEventPublisher } from '@sofka';\nimport { Observable } from 'rxjs';\n\n/**\n * Abstract class representing a event publisher\n *\n * @export\n * @abstract\n * @class EventPublisherAbstract\n * @implements {IEventPublisher}\n * @template Response - Type of response\n *\n * @example\n * ```typescript\n * import { EventPublisherAbstract } from '@sofka/ddd';\n * import { from, Observable } from 'rxjs';\n *\n * class UsuarioCreadoEventPublisher<\n *   Response = UsuarioEntity,\n * > extends EventPublisherAbstract<Response> {\n *   constructor(private readonly proxy: ClientProxy) {\n *     super(proxy as unknown as IEventPublisher);\n *   }\n *\n *   publish<Result = any>(): Observable<Result> {\n *     return this.emit(\n *       'usuario_creado',\n *       JSON.stringify({ data: this.response }),\n *     );\n *   }\n *\n *   emit<Result = any, Input = UsuarioEntity>(\n *     pattern: any,\n *     data: Input,\n *   ): Observable<Result> {\n *     return from(this.proxy.emit(pattern, data));\n *   }\n * }\n * ```\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport abstract class EventPublisherAbstract<Response>\n  implements IEventPublisher\n{\n  /**\n   * Response of the event publisher\n   *\n   * @private\n   * @type {(Response | Response[])}\n   * @memberof EventPublisherAbstract\n   */\n  private _response!: Response | Response[];\n\n  /**\n   * Creates an instance of EventPublisherAbstract\n   *\n   * @param {IEventPublisher} eventPublisher - Event publisher\n   * @memberof EventPublisherAbstract\n   */\n  constructor(private readonly eventPublisher: IEventPublisher) {}\n\n  /**\n   * Returns the response of the event publisher\n   *\n   * @type {(Response | Response[])}\n   * @memberof EventPublisherAbstract\n   */\n  get response(): Response | Response[] {\n    return this._response;\n  }\n\n  /**\n   * Sets the response of the event publisher\n   *\n   * @memberof EventPublisherAbstract\n   */\n  set response(value: Response | Response[]) {\n    this._response = value;\n  }\n\n  /**\n   * Emits an event\n   *\n   * @template Result - Type of response\n   * @template Input - Type of input\n   * @param {*} pattern - Pattern of the event\n   * @param {Input} data - Data of the event\n   * @return {*}  {Observable<Result>} - Response of the event\n   * @memberof EventPublisherAbstract\n   */\n  emit<Result = any, Input = Response>(\n    pattern: any,\n    data: Input\n  ): Observable<Result> {\n    return this.eventPublisher.emit(pattern, data);\n  }\n\n  /**\n   * Publishes an event\n   *\n   * @abstract\n   * @template Result - Type of response\n   * @return {*}  {Observable<Result>} - Response of the event\n   * @memberof EventPublisherAbstract\n   */\n  abstract publish<Result = any>(): Observable<Result>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"06da3fa93df65d21ab12facf1fcd005fec603d9c","contentHash":"8555c74ce3a6dc7c52ef2309abcf7ede18f66805654d52618522ac3f1f268f41"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object.abstract.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object.abstract.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":10,"column":8},"end":{"line":10,"column":51}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":35}},"5":{"start":{"line":12,"column":8},"end":{"line":13,"column":32}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":32}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":28}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":28}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":29}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":28}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":54}},"12":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"13":{"start":{"line":28,"column":8},"end":{"line":28,"column":33}},"14":{"start":{"line":31,"column":8},"end":{"line":31,"column":35}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":27}},"16":{"start":{"line":35,"column":8},"end":{"line":35,"column":27}},"17":{"start":{"line":38,"column":8},"end":{"line":39,"column":114}},"18":{"start":{"line":39,"column":12},"end":{"line":39,"column":114}},"19":{"start":{"line":42,"column":0},"end":{"line":42,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":23},"end":{"line":15,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":21},"end":{"line":20,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":16},"end":{"line":23,"column":5}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":16},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":20},"end":{"line":29,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":20},"end":{"line":32,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":14},"end":{"line":36,"column":5}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":18},"end":{"line":40,"column":5}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":13,"column":32}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":13,"column":32}},{"start":{"line":12,"column":8},"end":{"line":13,"column":32}}],"line":12},"1":{"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":53}},"type":"cond-expr","locations":[{"start":{"line":22,"column":41},"end":{"line":22,"column":45}},{"start":{"line":22,"column":48},"end":{"line":22,"column":53}}],"line":22},"2":{"loc":{"start":{"line":38,"column":8},"end":{"line":39,"column":114}},"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":39,"column":114}},{"start":{"line":38,"column":8},"end":{"line":39,"column":114}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":8,"4":8,"5":8,"6":5,"7":8,"8":1,"9":1,"10":1,"11":4,"12":4,"13":3,"14":1,"15":2,"16":1,"17":2,"18":1,"19":1},"f":{"0":8,"1":1,"2":4,"3":4,"4":3,"5":1,"6":2,"7":2},"b":{"0":[5,3],"1":[3,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object.abstract.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object.abstract.ts"],"names":[],"mappings":";;;AAAA,mCAAiE;AA6CjE,MAAsB,mBAAmB;IAQ/B,OAAO,CAA2B;IAShC,MAAM,CAAQ;IAUd,UAAU,CAAS;IAQ7B,YAAY,KAAY;QACtB,IAAI,CAAC,UAAU,GAAG,mBAAmB,CAAC,IAAI,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAqB,CAAC;QAC9C,IAAI,KAAK;YAAE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAQD,IAAI,KAAK,CAAC,KAAW;QACnB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAiBD,SAAS;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAChD,CAAC;IASD,SAAS;QACP,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IASS,QAAQ,CAAC,KAAwB;QACzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAQO,aAAa;QACnB,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAqB,CAAC;IAChD,CAAC;IAQD,OAAO;QACL,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAUO,WAAW;QACjB,IAAI,IAAI,CAAC,SAAS,EAAE,KAAK,IAAI;YAC3B,MAAM,IAAI,6BAAoB,CAC5B,4BAA4B,IAAI,CAAC,UAAU,GAAG,EAC9C,IAAI,CAAC,OAAO,CACb,CAAC;IACN,CAAC;CACF;AAnID,kDAmIC","sourcesContent":["import { IErrorValueObject, ValueObjectException } from '@sofka';\n\n/**\n * Abstract class for representing an object value\n *\n * @export\n * @abstract\n * @class ValueObjectBase\n * @template Type - Type of value represented by the value object\n *\n * @example\n * ```typescript\n * import { ValueObjectBase } from '@sofka/ddd';\n *\n * export class ApellidoValueObject extends ValueObjectAbstract<string> {\n *   validateData(): void {\n *     this.validateIsEmpty();\n *     this.validateLength();\n *   }\n *\n *   private validateIsEmpty(): void {\n *     if (IsEmpty(this.value) === true) {\n *       this.setError({\n *         field: 'apellido',\n *         message: 'El \"apellido\" no puede estar vacío',\n *       } as IErrorValueObject);\n *     }\n *   }\n *\n *   private validateLength(): void {\n *     if (this.value && StringMaxLength(this.value, 100) === true) {\n *       this.setError({\n *         field: 'apellido',\n *         message: 'El \"apellido\" no puede tener más de 100 caracteres',\n *       } as IErrorValueObject);\n *     }\n *   }\n * }\n * ```\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport abstract class ValueObjectAbstract<Type> {\n  /**\n   * Value Object Error Stack\n   *\n   * @private\n   * @type {Array<IErrorValueObject>} - Array of validation errors\n   * @memberof ValueObjectAbstract\n   */\n  private _errors: Array<IErrorValueObject>;\n\n  /**\n   * Value of the Value Object\n   *\n   * @private\n   * @type {Type}\n   * @memberof ValueObjectAbstract\n   */\n  protected _value!: Type;\n\n  /**\n   * Class name of the Value Object\n   *\n   * @protected\n   * @abstract\n   * @type {string}\n   * @memberof ValueObjectAbstract\n   */\n  protected _className: string;\n\n  /**\n   * Creates an instance of ValueObjectBase\n   *\n   * @param {Type} [value] Initial value of the object value\n   * @memberof ValueObjectBase\n   */\n  constructor(value?: Type) {\n    this._className = ValueObjectAbstract.name;\n    this._errors = new Array<IErrorValueObject>();\n    if (value) this._value = value;\n    this.validateData();\n  }\n\n  /**\n   * Sets the value for the value object, resets the error stack,\n   * and validates the new value\n   *\n   * @memberof ValueObjectBase\n   */\n  set value(value: Type) {\n    this._value = value;\n    this.restartErrors();\n    this.validateData();\n  }\n\n  /**\n   * Validates the value of the value object.\n   * This method must be implemented in the derived classes\n   *\n   * @abstract\n   * @memberof ValueObjectBase\n   */\n  abstract validateData(): void;\n\n  /**\n   * Returns true if there are validation errors, false otherwise\n   *\n   * @return {boolean} True if there are validation errors, false otherwise\n   * @memberof ValueObjectBase\n   */\n  hasErrors(): boolean {\n    return this._errors.length > 0 ? true : false;\n  }\n\n  /**\n   * Returns an array of validation errors for the value object\n   *\n   * @return {Array<IErrorValueObject>} Array of validation errors for\n   *    the value object\n   * @memberof ValueObjectBase\n   */\n  getErrors(): Array<IErrorValueObject> {\n    return this._errors;\n  }\n\n  /**\n   * Sets a validation error for the value object\n   *\n   * @protected\n   * @param {IErrorValueObject} error Validation error to set\n   * @memberof ValueObjectBase\n   */\n  protected setError(error: IErrorValueObject): void {\n    this._errors.push(error);\n  }\n\n  /**\n   * Clears all validation errors of the value object\n   *\n   * @private\n   * @memberof ValueObjectBase\n   */\n  private restartErrors(): void {\n    this._errors = new Array<IErrorValueObject>();\n  }\n\n  /**\n   * Returns the primitive value of the specified object\n   *\n   * @return {Type} Primitive value of the specified object\n   * @memberof ValueObjectBase\n   */\n  valueOf(): Type {\n    this.verifyValue();\n    return this._value;\n  }\n\n  /**\n   * Verify if the value object has any errors\n   *\n   * @private\n   * @throws {ValueObjectException} Throws an exception with the value object\n   *    errors if it has any\n   * @memberof ValueObjectAbstract\n   */\n  private verifyValue(): void {\n    if (this.hasErrors() === true)\n      throw new ValueObjectException(\n        `Value object has errors \"${this._className}\"`,\n        this._errors\n      );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"049c550e5d8fa853de7dfca60f2add5ef6ba48d9","contentHash":"7cc698303af0ef56b1b366c95e7358e1e1e6eec90b8347098a821cbce36ca0dd"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object-error-handler.abstract.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object-error-handler.abstract.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":28}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":52}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":54}},"7":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"8":{"start":{"line":21,"column":12},"end":{"line":22,"column":51}},"9":{"start":{"line":22,"column":16},"end":{"line":22,"column":51}},"10":{"start":{"line":24,"column":8},"end":{"line":25,"column":79}},"11":{"start":{"line":25,"column":12},"end":{"line":25,"column":79}},"12":{"start":{"line":28,"column":0},"end":{"line":28,"column":76}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":16},"end":{"line":12,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":22},"end":{"line":15,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":16},"end":{"line":18,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":48},"end":{"line":26,"column":5}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":20,"column":29},"end":{"line":20,"column":30}},"loc":{"start":{"line":20,"column":41},"end":{"line":23,"column":9}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":53}},"type":"cond-expr","locations":[{"start":{"line":17,"column":41},"end":{"line":17,"column":45}},{"start":{"line":17,"column":48},"end":{"line":17,"column":53}}],"line":17},"1":{"loc":{"start":{"line":21,"column":12},"end":{"line":22,"column":51}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":22,"column":51}},{"start":{"line":21,"column":12},"end":{"line":22,"column":51}}],"line":21},"2":{"loc":{"start":{"line":24,"column":8},"end":{"line":25,"column":79}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":25,"column":79}},{"start":{"line":24,"column":8},"end":{"line":25,"column":79}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":2,"4":3,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2,"1":3,"2":1,"3":2,"4":1,"5":1},"b":{"0":[2,0],"1":[1,0],"2":[1,0]},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object-error-handler.abstract.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/abstracts/value-object-error-handler.abstract.ts"],"names":[],"mappings":";;;AAAA,mCAIgB;AAqChB,MAAsB,gCAAgC;IAC5C,OAAO,CAA2B;IAO1C;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAqB,CAAC;IAChD,CAAC;IAQD,SAAS;QACP,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAQD,SAAS,CAAC,MAAgC;QACxC,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,CAAC;IAC9C,CAAC;IASD,SAAS;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAChD,CAAC;IAYD,oBAAoB,CAClB,YAA6C,EAC7C,OAAe;QAEf,YAAY,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC9B,IAAI,MAAM,CAAC,SAAS,EAAE,KAAK,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,SAAS,EAAE,KAAK,IAAI;YAC3B,MAAM,IAAI,6BAAoB,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;IAC9D,CAAC;CACF;AAhED,4EAgEC","sourcesContent":["import {\n  IErrorValueObject,\n  ValueObjectAbstract,\n  ValueObjectException,\n} from '@sofka';\n\n/**\n * Abstract class that defines the error handling behavior for a value object\n *\n * @export\n * @abstract\n * @class ValueObjectErrorHandlerAbstract\n *\n * @example\n * ```typescript\n * import { ValueObjectErrorHandlerAbstract } from '@sofka/ddd';\n *\n * class RegistrarUnUsuarioUseCase extends ValueObjectsErrorHandlerAbstract {\n *   execute(command: IRegistrarUnUsuarioCommand) {\n *     const valueObjects = this.createValueObjects(command);\n *     this.validateValueObjects(\n *       valueObjects,\n *       'Existen algunos errores en el comando \"IRegistrarUnUsuarioCommand\"'\n *     );\n *   }\n *\n *   createValueObjects(\n *     command: IRegistrarUnUsuarioCommand\n *   ): Array<ValueObjectAbstract<any>> {\n *     const email = new EmailValueObject(command.email);\n *     const password = new PasswordValueObject(command.password);\n *     return [email, password];\n *   }\n * }\n * ```\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport abstract class ValueObjectsErrorHandlerAbstract {\n  private _errors: Array<IErrorValueObject>;\n\n  /**\n   * Creates an instance of ValueObjectErrorHandlerAbstract\n   *\n   * @memberof ValueObjectErrorHandlerAbstract\n   */\n  constructor() {\n    this._errors = new Array<IErrorValueObject>();\n  }\n\n  /**\n   * Returns the current errors of the value object\n   *\n   * @return {*}  {Array<IErrorValueObject>} - Array of errors\n   * @memberof ValueObjectErrorHandlerAbstract\n   */\n  getErrors(): Array<IErrorValueObject> {\n    return this._errors;\n  }\n\n  /**\n   * Sets the current errors of the value object\n   *\n   * @param {Array<IErrorValueObject>} errors - Array of errors\n   * @memberof ValueObjectErrorHandlerAbstract\n   */\n  setErrors(errors: Array<IErrorValueObject>): void {\n    this._errors = [...this._errors, ...errors];\n  }\n\n  /**\n   * Returns true if the value object has errors, false otherwise\n   *\n   * @return {*}  {boolean} - True if the value object has errors,\n   *    false otherwise\n   * @memberof ValueObjectErrorHandlerAbstract\n   */\n  hasErrors(): boolean {\n    return this._errors.length > 0 ? true : false;\n  }\n\n  /**\n   * Validates the value objects, creates the error stack and\n   * throws an exception if it has errors\n   *\n   * @param {Array<ValueObjectAbstract<any>>} valueObjects\n   * @param {string} message\n   * @throws {ValueObjectException} Throws an exception with the value object\n   *    errors if it has any\n   * @memberof ValueObjectsErrorHandlerAbstract\n   */\n  validateValueObjects(\n    valueObjects: Array<ValueObjectAbstract<any>>,\n    message: string\n  ): void {\n    valueObjects.forEach((object) => {\n      if (object.hasErrors() === true) this.setErrors(object.getErrors());\n    });\n\n    if (this.hasErrors() === true)\n      throw new ValueObjectException(message, this.getErrors());\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7539964da6abe051e6e6a60380e9e113a0134e06","contentHash":"e417c4750f3790032203fb910e4f50ec0164b56b9ee6af2c51968d7595f46293"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/aggregate-root.exception.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/aggregate-root.exception.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/aggregate-root.exception.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/aggregate-root.exception.ts"],"names":[],"mappings":";;;AAkBA,MAAa,sBAAuB,SAAQ,KAAK;IAM/C,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;IACjB,CAAC;CACF;AATD,wDASC","sourcesContent":["/**\n * Exception class for errors related to aggregate roots\n *\n * @export\n * @class AggregateRootException\n * @extends {Error} - Error class\n *\n * @example\n * ```typescript\n * import { AggregateRootException } from '@sofka/ddd';\n * throw new AggregateRootException('Error message');\n * ```\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport class AggregateRootException extends Error {\n  /**\n   * Creates a new AggregateRootException object\n   *\n   * @param {string} message - The error message\n   */\n  constructor(message: string) {\n    super(message);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88d2a932b2e530aa87685e3625d07833e48ce8d5","contentHash":"d211af296e97e5bb690f9708799a93d7a8708d8780af5d2c0399c63f5dd88335"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/value-object.exception.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/value-object.exception.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":30}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":28}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":33},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":17},"end":{"line":12,"column":5}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":3,"3":3,"4":1,"5":1},"f":{"0":3,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/value-object.exception.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/exceptions/value-object.exception.ts"],"names":[],"mappings":";;;AAoBA,MAAa,oBAAqB,SAAQ,KAAK;IAQrC,OAAO,CAA2B;IAS1C,YAAY,OAAe,EAAE,MAAgC;QAC3D,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IACxB,CAAC;IASD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;CACF;AAhCD,oDAgCC","sourcesContent":["import { IErrorValueObject } from '@sofka';\n\n/**\n * Class representing a value object exception\n *\n * @export\n * @class ValueObjectException\n * @extends {Error} - Error class\n *\n * @example\n * ```typescript\n * import { ValueObjectException } from '@sofka/ddd';\n * throw new ValueObjectException('Error message');\n * ```\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport class ValueObjectException extends Error {\n  /**\n   * Stack of errors type IErrorValueObject\n   *\n   * @private\n   * @type {Array<IErrorValueObject>}\n   * @memberof ValueObjectException\n   */\n  private _errors: Array<IErrorValueObject>;\n\n  /**\n   * Creates an instance of ValueObjectException\n   *\n   * @param {string} message - The error message\n   * @param {Array<IErrorValueObject>} errors - Array of errors\n   * @memberof ValueObjectException\n   */\n  constructor(message: string, errors: Array<IErrorValueObject>) {\n    super(message);\n    this._errors = errors;\n  }\n\n  /**\n   * Returns the stack of errors\n   *\n   * @readonly\n   * @type {Array<IErrorValueObject>}\n   * @memberof ValueObjectException\n   */\n  get errors(): Array<IErrorValueObject> {\n    return this._errors;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02088e62f40226257297bf3048d08d0d72828541","contentHash":"3a4411a7735cf98faa66200de31c1838a5a05e51b88fdce05c44d2cc854228fb"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/error-object-value.interface.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/error-object-value.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/error-object-value.interface.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/error-object-value.interface.ts"],"names":[],"mappings":"","sourcesContent":["/**\n * Interface for handling errors in the value objects\n *\n * @export\n * @interface IErrorValueObject\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport interface IErrorValueObject {\n  /**\n   * Field name of the value object\n   *\n   * @type {string}\n   * @memberof IErrorValueObject\n   */\n  field: string;\n\n  /**\n   * Error message of the value object\n   *\n   * @type {string}\n   * @memberof IErrorValueObject\n   */\n  message: string;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"41c8e78a79cd0169befcffc5da5f045be5a54fe9","contentHash":"c1244134e485e98afe92e224cc21ded7d4067b0d85fcb6605bddd75602a5719f"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/event-publisher.interface.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/event-publisher.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/event-publisher.interface.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/event-publisher.interface.ts"],"names":[],"mappings":"","sourcesContent":["import { Observable } from 'rxjs';\n\n/**\n * Interface representing a event publisher\n *\n * @export\n * @interface IEventPublisher\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport interface IEventPublisher {\n  /**\n   * Publishes an event\n   *\n   * @template ResultType - Type of response\n   * @template InputType - Type of data to be sent\n   * @param {*} pattern - Pattern to be sent\n   * @param {InputType} data - Data to be sent\n   * @return {*}  {Observable<ResultType>} - Observable of the response\n   * @memberof IEventPublisher\n   */\n  emit<ResultType = any, InputType = any>(\n    pattern: any,\n    data: InputType\n  ): Observable<ResultType>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"949de6e468c051c86b3bbee7ed95498eff1936c9","contentHash":"dd1835573f3f4a49631a08688cb7183c53d3361bbe61dfcdf0cab33e5ce5674f"},"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/use-case.interface.ts":{"path":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/use-case.interface.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/use-case.interface.ts","sources":["/home/jalf/projects/sofka/typescript/domain-driven-design/src/interface/use-case.interface.ts"],"names":[],"mappings":"","sourcesContent":["import { Observable } from 'rxjs';\n\n/**\n * Interface representing a use case\n *\n * @export\n * @interface IUseCase\n * @template CommandType - Type of input payload\n * @template ResponseType - Type of response\n *\n * @since 1.0.0\n * @version 1.0.0\n * @license MIT\n * @author Julian Andres Lasso Figueroa <julian.lasso@sofka.com.co>\n */\nexport interface IUseCase<CommandType, ResponseType> {\n  /**\n   * Executes the use case\n   *\n   * @param {CommandType} [command] - Input payload for the use case, if applicable\n   * @return {ResponseType} - Output data type\n   * @memberof IUseCase\n   */\n  execute(command?: CommandType): Observable<ResponseType>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b9cb486d397dec757fdc33ab3227b5465985c3b","contentHash":"e0bfaa002107242ce8b4aa9cd4e2c04c7722851a24b09e6d45d732a83ffe0a4a"}}